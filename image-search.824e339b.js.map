{"mappings":"AAGA,MAAMA,EAAU,ICHT,MACLC,UAAUC,GAGR,OAAOC,MAFK,qEAAqED,yEAE/DE,MAAKC,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,GDHtBC,EAAO,CACXC,cAAeC,SAASC,cAAc,mBACtCC,QAASF,SAASC,cAAc,eAChCE,eAAgBH,SAASC,cAAc,eAGzCH,EAAKC,cAAcK,iBAAiB,UAEpC,SAAsBC,GACpBA,EAAIC,iBAEJ,MACEC,UAAUC,YAAEA,IACVH,EAAII,cAEFnB,EAAQkB,EAAYE,MAAMC,OAAOC,cACvC,IAAKtB,EACH,OAGFF,EAAQC,UAAUC,GAAOE,MAAK,EAACqB,KAAEA,MAC/B,MAAMC,EAAsBD,EAO3BE,KACC,EAACC,aACCA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEO,yDACeL,oBAChBD,WAAsBE,qHAGhBC,6DAGAC,gEAGGC,iEAGCC,6CAOnBC,KAAK,IArCNzB,EAAKI,QAAQsB,mBAAmB,YAAaV,EAAO,G","sources":["src/index.js","src/PixabayAPI.js"],"sourcesContent":["import './css/styles.css';\nimport { PixabayAPI } from './PixabayAPI';\n\nconst pixabay = new PixabayAPI();\n\nconst refs = {\n  searchFormRef: document.querySelector('.js-search-form'),\n  listRef: document.querySelector('.js-gallery'),\n  loadMoreBtnRef: document.querySelector('.load-more'),\n};\n\nrefs.searchFormRef.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { searchQuery },\n  } = evt.currentTarget;\n\n  const query = searchQuery.value.trim().toLowerCase();\n  if (!query) {\n    return;\n  }\n\n  pixabay.getPhotos(query).then(({ hits }) => {\n    const markup = createMarkup(hits);\n    refs.listRef.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\nfunction createMarkup(photos) {\n  return photos\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<div class=\"photo-card\">\n      <a class='link' href=\"${largeImageURL}\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width='200' height='140' />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b>${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>${downloads}\n    </p>\n  </div>\n   </a>\n  </div>`;\n      }\n    )\n    .join('');\n}\n","export class PixabayAPI {\n  getPhotos(query) {\n    const url = `https://pixabay.com/api/?key=30687510-2718d4bf03f80212b157b4ce9&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40`;\n\n    return fetch(url).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$pixabay","getPhotos","query","fetch","then","response","ok","Error","status","json","$1f0dc3b9307be026$var$refs","searchFormRef","document","querySelector","listRef","loadMoreBtnRef","addEventListener","evt","preventDefault","elements","searchQuery","currentTarget","value","trim","toLowerCase","hits","markup","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML"],"version":3,"file":"image-search.824e339b.js.map"}