function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},t.parcelRequired7c6=n);var s=n("8XIVS"),a=n("lNb2b"),i=n("cLm0d"),l=n("eWCmQ");const f=new(0,s.PixabayAPI);function d(){f.resetPage(),i.refs.listRef.innerHTML=""}i.refs.searchFormRef.addEventListener("submit",(async function(t){t.preventDefault();const{elements:{searchQuery:r}}=t.currentTarget,o=r.value.trim().toLowerCase();if(!o)return;f.searchQuery=o,d(),i.refs.loadMoreBtnRef.classList.add("visually-hidden");try{const{hits:t,total:r}=await f.getPhotos();if(0===t.length)return void e(l).Notify.failure("Sorry, there are no images matching your search query. Please try again.");const o=(0,a.createMarkup)(t);i.refs.listRef.insertAdjacentHTML("beforeend",o),f.calculateTotalPages(r),e(l).Notify.success(`Hooray! We found ${r} images.`,{timeout:1e3,position:"left-top"}),f.isShowLoadMore&&i.refs.loadMoreBtnRef.classList.remove("visually-hidden")}catch(e){console.log(e),d()}})),i.refs.loadMoreBtnRef.addEventListener("click",(function(){f.incrementPage(),f.isShowLoadMore||(i.refs.loadMoreBtnRef.classList.add("visually-hidden"),e(l).Notify.info("We're sorry, but you've reached the end of search results."));f.getPhotos().then((({hits:e})=>{const t=(0,a.createMarkup)(e);i.refs.listRef.insertAdjacentHTML("beforeend",t)})).catch((e=>{console.log(e),d()}))}));
//# sourceMappingURL=image-search.d567202c.js.map
